{% block content %}
{% if 'query_edit' in request.url %}
<div style='margin-left: 100px; width: 45%;'>
  <div class="alert alert-info" role="alert">
    <strong>Your turn!</strong> Edit your selected data line here ...
  </div>

  {% for eresult in eresults %}

  <form action="edit" method="POST">
    <p>name:<input class="form-control" type="text" name="name" style='width: 100%;'
        value='{{eresult["name"]}}' /></p>
    <p>sex:<input class="form-control" type="text" name="sex" style='width: 100%;'
        value='{{eresult["sex"]}}' /></p>
    <p>age:<input class="form-control" type="number" name="age" style='width: 100%;'
        value='{{eresult["age"]}}' /></p>
    <p>degree: <input class="form-control" type="text" name="degree" style='width: 100%;' value='{{eresult["degree"]}}' /></p>
    <p>dob: <input class="form-control" type="date" name="dob" style='width: 100%;' value='{{eresult["dob"]}}' />
    </p>
    <p>address: <input class="form-control" type="text" name="address" style='width: 100%;' value='{{eresult["address"]}}' /></p>
    <p>phone: <input class="form-control" type="number" name="phone" style='width: 100%;' value='{{eresult["phone"]}}' /></p>
    <p>dept_id: <input class="form-control" type="number" name="dept_id" style='width: 100%;' value='{{eresult["dept_id"]}}' /></p>
    <p>desg_id: <input class="form-control" type="number" name="desg_id" style='width: 100%;' value='{{eresult["desg_id"]}}' /></p>
      {% endfor %}

    <br>

    <p><input class="btn-primary" type="submit" value="Update Data" /></p>
  </form>
</div>

{% else %}
<div style='margin-left: 100px; width: 45%;'>
  <div class="alert alert-info" role="alert">
    <strong>Your turn!</strong> Insert your new data line with this form ...
  </div>

  <form action="insert" method="POST">
    <p>name:<input class="form-control" type="text" name="name" style='width: 100%;'
        value='{{eresult["name"]}}' /></p>
    <p>sex:<input class="form-control" type="text" name="sex" style='width: 100%;'
        value='{{eresult["sex"]}}' /></p>
    <p>age:<input class="form-control" type="number" name="age" style='width: 100%;'
        value='{{eresult["age"]}}' /></p>
    <p>degree: <input class="form-control" type="text" name="degree" style='width: 100%;' value='{{eresult["degree"]}}' /></p>
    <p>dob: <input class="form-control" type="date" name="dob" style='width: 100%;' value='{{eresult["dob"]}}' />
    </p>
    <p>address: <input class="form-control" type="text" name="address" style='width: 100%;' value='{{eresult["address"]}}' /></p>
    <p>phone: <input class="form-control" type="number" name="phone" style='width: 100%;' value='{{eresult["phone"]}}' /></p>
    <p>dept_id: <input class="form-control" type="number" name="dept_id" style='width: 100%;' value='{{eresult["dept_id"]}}' /></p>
    <p>desg_id: <input class="form-control" type="number" name="desg_id" style='width: 100%;' value='{{eresult["desg_id"]}}' /></p>
      {% endfor %}

    <br>

    <p><input class="btn-primary" type="submit" value="Insert Data" /></p>
  </form>
</div>


{% endif %}
{% endblock content %}

<div style='margin-left: 20px; width: 45%;'>
  <div class="alert alert-warning" role="alert">
    <strong>Awesome!</strong> Here is your mySQL code ...
  </div>
  {{msg}}
</div>

</div> <!-- ends row div -->

<br><br>

<div class="alert alert-success" role="alert" style='width: 90%; margin-left: 100px;'>
  <strong>Check it out!</strong> Here is your data table below ...
</div>

<table class='table table-hover' style='margin-left: 100px; margin-right: 100px; width: 90%;'>
  <thead>
    <tr>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Address</th>
      <th>City</th>
      <th>State</th>
      <th>Zip</th>
      <th>EDIT</th>
      <th>DELETE</th>
    </tr>
  </thead>

  {% for result in results %}
  <tr>
    <td>{{result["first_name"]}}</td>
    <td>{{result["last_name"]}}</td>
    <td>{{result["address"]}}</td>
    <td>{{result['city']}}</td>
    <td>{{result['state']}}</td>
    <td>{{result['zip']}}</td>
    <td align="center"><a
        href="{{ url_for('sql_editlink', efname=result['first_name'], elname=result['last_name']) }}"><i
          class="fas fa-edit"></a></td>
    <td align="center"><a
        href="{{ url_for('sql_datadelete', fname=result['first_name'], lname=result['last_name']) }}"><i
          class="fas fa-trash-alt"></a></td>
  </tr>
  {% endfor %}
</table>